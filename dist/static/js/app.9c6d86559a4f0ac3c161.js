webpackJsonp([1],{"991W":function(t,e){},"9KUX":function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={};i.d(n,"increment",function(){return E});var s=i("7+uW"),o={name:"App",created:function(){this.getDeviceType()},methods:{getDeviceType:function(){var t,e,i,n,s,o,a,r=(t=navigator.userAgent,e=/(?:Windows Phone)/.test(t),i=/(?:SymbianOS)/.test(t)||e,n=/(?:Android)/.test(t),s=/(?:Firefox)/.test(t),/(?:Chrome|CriOS)/.test(t),o=/(?:iPad|PlayBook)/.test(t)||n&&!/(?:Mobile)/.test(t)||s&&/(?:Tablet)/.test(t),a=/(?:iPhone)/.test(t)&&!o,{isTablet:o,isPhone:a,isAndroid:n,isPc:!a&&!n&&!i}),l="pc";r.isAndroid||r.isPhone?l="phone":r.isTablet?l="pad":r.isPc&&(l="pc"),this.$store.commit({type:"deviceType",value:l})},getRem:function(t,e){alert(document.documentElement.clientWidth+"----"+document.documentElement.clientHeight),alert(document.body.clientWidth+"----"+document.body.clientHeight);var i=document.getElementsByTagName("html")[0],n=document.body.clientWidth||document.documentElement.clientWidth;i.style.fontSize=n/t*e+"px"}},mounted:function(){this.getRem(720,100)}},a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var r=i("VU/8")(o,a,!1,function(t){i("Rmo9")},null,null).exports,l=i("/ocq"),c=i("u4Bf"),d=i.n(c),u=["1","2","3","4","5","6"],f={name:"transition-example-2",display:"Transitions",order:7,components:{draggable:d.a},data:function(){return{list:u.map(function(t,e){return{name:t,order:e+1}}),drag:!1}},mounted:function(){this.$router.push({name:"fanye"})},methods:{update:function(t){console.log(this.list)},sort:function(){this.list=this.list.sort(function(t,e){return t.order-e.order})}},computed:{dragOptions:function(){return{animation:200,group:"description",disabled:!1,ghostClass:"ghost"}}}},g={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container-fluid"},[i("div",{staticClass:"row"},[i("div",{staticClass:"col-2"}),t._v(" "),i("div",{staticClass:"col-4"},[i("button",{staticClass:"btn btn-secondary button",on:{click:t.sort}},[t._v("\n        To original order\n      ")])]),t._v(" "),i("div",{staticClass:"col-6"},[i("draggable",t._b({staticClass:"list-group",attrs:{tag:"ul"},on:{start:function(e){t.drag=!0},end:function(e){t.drag=!1},update:t.update},model:{value:t.list,callback:function(e){t.list=e},expression:"list"}},"draggable",t.dragOptions,!1),[i("transition-group",{attrs:{type:"transition",name:t.drag?null:"flip-list"}},t._l(t.list,function(e){return i("li",{key:e.order,staticClass:"list-group-item2"},[i("i",{class:e.fixed?"fa fa-anchor":"glyphicon glyphicon-pushpin",attrs:{"aria-hidden":"true"},on:{click:function(t){e.fixed=!e.fixed}}}),t._v("\n            "+t._s(e.name)+"\n          ")])}),0)],1)],1)])])},staticRenderFns:[]};i("VU/8")(f,g,!1,function(t){i("mv7w")},null,null).exports;var p={name:"Feedback",data:function(){return{showFace:!1,imgList:[],size:0,limit:6,tempImgs:[]}},methods:{chooseType:function(){document.getElementById("upload_file").click()},fileChange:function(t){console.log(document.getElementById("upload_file").files[0]),console.log(t.target.files[0]),t.target.files[0].size&&(this.fileList(t.target),t.target.value="")},fileList:function(t){for(var e=t.files,i=0;i<e.length;i++)""!=e[i].type&&this.fileAdd(e[i])},fileAdd:function(t){if(void 0!==this.limit&&this.limit--,!(void 0!==this.limit&&this.limit<0))if(this.size=this.size+t.size,-1==t.type.indexOf("image"))alert("请选择图片文件");else{var e=new FileReader,i=new Image,n=this;e.readAsDataURL(t),e.onload=function(e){console.log(e),t.src=this.result,i.src=t.src,i.onload=function(){var e=i.width,s=i.height;t.width=e,t.height=s,n.imgList.push({file:t}),console.log(n.imgList)}}}},delImg:function(t){this.size=this.size-this.imgList[t].file.size,this.imgList.splice(t,1),void 0!==this.limit&&(this.limit=6-this.imgList.length)},displayImg:function(){}}},m={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"dragDemo"},[i("input",{staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*",id:"upload_file",multiple:""},on:{change:function(e){return t.fileChange(e)}}}),t._v(" "),i("div",{staticClass:"add",on:{click:t.chooseType}},[t._m(0)]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:t.imgList.length,expression:"imgList.length"}],staticClass:"add-img"},[i("p",{staticClass:"font14"},[t._v("图片(最多6张，还可上传"),i("span",{domProps:{textContent:t._s(6-t.imgList.length)}}),t._v("张)")]),t._v(" "),i("ul",{staticClass:"img-list"},t._l(t.imgList,function(e,n){return i("li",[t._v("\n            //del删除样式，icon字体图标需要自己找哦\n            "),i("img",{attrs:{src:e.file.src}})])}),0)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"add-image",attrs:{align:"center"}},[e("i",{},[this._v("tupian")]),this._v(" "),e("p",{staticClass:"font13"},[this._v("添加图片")])])}]};i("VU/8")(p,m,!1,function(t){i("rNmT")},"data-v-02f8928b",null).exports;var h=i("Gu7T"),v=i.n(h),b=i("Dd8w"),y=i.n(b),w=i("NYxO"),k=i("//Fk"),_=i.n(k),C={props:["dataArr","suoyinId"],name:"transition-example-2",display:"Transitions",components:{draggable:d.a},data:function(){return{list:[{id:"1",src:""},{id:"2",src:""},{id:"3",src:""},{id:"4",src:""}],drag:!1,message:"你好啊今天天气太好了等等等等等等等等等等等等等等等等等等等等等等等等等等等等等等等等等等等等等等等等等等等等等等等等等等",images:[],editBook:!1}},mounted:function(){this.list=this.dataArr},computed:y()({},Object(w.b)({deviceType:function(t){return t.deviceType}}),{dragOptions:function(){return{animation:200,group:"description",disabled:!this.editBook,ghostClass:"ghost",filter:".addIcon"}}}),methods:{editBookEdit:function(){this.editBook=!0,this.$emit("editBook",this.editBook)},editBookSure:function(){this.editBook=!1,this.$emit("editBook",this.editBook)},getdata:function(t){return console.log(t),9999!==t.relatedContext.element.id},addPic:function(t){this.$refs.upLoad.click()},onFileChange:function(t){console.log(t);var e=this,i=t.target.files||t.dataTransfer.files;i.length&&(this.createImage(i).then(function(i){e.suoyinId;var n={suoyin:e.suoyinId,newPic:i};e.$emit("dataChange",n),t.srcElement.value=""}).catch(function(t){return alert(t),!1}),console.log(e.list.length))},createImage:function(t){return new _.a(function(e,i){if("function"==typeof FileReader){var n=[],s=0,o=new FileReader;o.readAsDataURL(t[s]),o.onload=function(i){if(i.target.result){var a=t[s];a.id=(new Date).getTime(),a.src=i.target.result,n.push(a),++s<t.length?o.readAsDataURL(t[s]):e(n)}}}else{i("FileReader API不支持")}})},delImage:function(t){this.list.splice(t,1)},removeImage:function(t){this.images=[]},update:function(t){this.$emit("dataChange",this.list)},sort:function(){this.list=this.list.sort(function(t,e){return t.name-e.name})}},watch:{dataArr:function(){this.list=this.dataArr}}},x={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container-fluid"},[i("div",{staticClass:"row content"},[i("div",{staticClass:"col-md-12 itemMsg"},[i("el-input",{staticClass:"textarea",attrs:{type:"textarea",disabled:!t.editBook,resize:"none",rows:3,placeholder:"请输入内容",maxlength:"200"},model:{value:t.message,callback:function(e){t.message=e},expression:"message"}})],1),t._v(" "),i("div",{staticClass:"col-md-12"},[i("draggable",t._b({staticClass:"list-group itemUl",attrs:{tag:"ul",move:t.getdata},on:{start:function(e){t.drag=!0},end:function(e){t.drag=!1},update:t.update},model:{value:t.list,callback:function(e){t.list=e},expression:"list"}},"draggable",t.dragOptions,!1),t._l(t.list,function(e,n){return i("li",{directives:[{name:"show",rawName:"v-show",value:9999!=e.id||9999==e.id&&t.list.length<10&&1==t.editBook,expression:"item.id !=9999 || item.id ==9999 && list.length<10 && editBook==true"}],key:e.id,staticClass:"list-group-item2 itemPic fl",class:{addIcon:9999==e.id}},[9999!=e.id?i("div",{staticStyle:{width:"100%",height:"100%"}},[i("img",{staticClass:"itemPicImg",attrs:{src:e.src,alt:"暂无"}}),t._v(" "),1==t.editBook?i("i",{staticClass:"delItem point",on:{click:function(e){return e.stopPropagation(),t.delImage(n)}}},[t._v("x")]):t._e()]):t._e(),t._v(" "),9999==e.id&&1==t.editBook?i("div",{staticClass:"point",staticStyle:{width:"100%",height:"100%"},on:{click:t.addPic}},[i("p",[t._v("+")])]):t._e()])}),0)],1)]),t._v(" "),i("div",{staticClass:"row contentEdit"},[i("div",{staticClass:"col-md-12"},[i("el-button",{directives:[{name:"show",rawName:"v-show",value:0==t.editBook,expression:"editBook == false"}],on:{click:t.editBookEdit}},[t._v(" 编辑 ")]),t._v(" "),i("el-button",{directives:[{name:"show",rawName:"v-show",value:1==t.editBook,expression:"editBook == true"}],on:{click:t.editBookSure}},[t._v(" 保存 ")]),t._v(" "),i("input",{ref:"upLoad",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*",multiple:""},on:{change:t.onFileChange}})],1)])])},staticRenderFns:[]};var B={name:"transition-example-2",components:{drag:i("VU/8")(C,x,!1,function(t){i("w/qj")},null,null).exports},data:function(){return{editBookTog:!1,maxImg:9,picSrc:"https://www.baidu.com/img/bd_logo1.png",fanyeData:[{id:1,arr:[{id:11,src:"https://www.baidu.com/img/bd_logo1.png"},{id:22,src:"https://pg-ad-b1.ws.126.net/yixiao/23698/e365c0c6458efca0a29c9ff4ab90b198.jpg"},{id:9999,src:""}]},{id:2,arr:[{id:11,src:"https://www.baidu.com/img/bd_logo1.png"},{id:22,src:"https://pg-ad-b1.ws.126.net/yixiao/23698/e365c0c6458efca0a29c9ff4ab90b198.jpg"},{id:33,src:"https://www.baidu.com/img/bd_logo1.png"},{id:44,src:"https://www.baidu.com/img/bd_logo1.png"}]},{id:3,arr:[{id:111,src:"https://www.baidu.com/img/bd_logo1.png"},{id:222,src:"https://pg-ad-b1.ws.126.net/yixiao/23698/e365c0c6458efca0a29c9ff4ab90b198.jpg"},{id:333,src:"https://www.baidu.com/img/bd_logo1.png"},{id:444,src:"https://www.baidu.com/img/bd_logo1.png"}]}]}},computed:y()({},Object(w.b)({deviceType:function(t){return t.deviceType}})),mounted:function(){this.xinFanye()},methods:{editBook:function(t){this.editBookTog=t},dataChange:function(t){var e=t.suoyin,i=t.newPic;console.log(i);for(var n=0,s=this.fanyeData.length;n<s;n++)if(this.fanyeData[n].id==e){var o,a=this.maxImg+1-this.fanyeData[n].arr.length;console.log(a);var r=i.splice(0,a);console.log(r),(o=this.fanyeData[n].arr).splice.apply(o,[this.fanyeData[n].arr.length-1,0].concat(v()(r)))}console.log(this.fanyeData[0].arr)},changArr:function(t){t.push({id:99999}),t.splice(t.length-1,1)},previousFun:function(){1!=this.editBookTog?($(".flipbook").turn("disable",!1),$(".flipbook").turn("previous"),$(".flipbook").turn("disable",!0)):this.$message({message:"请保存后,重新尝试.",type:"error"})},nextFun:function(){1!=this.editBookTog?($(".flipbook").turn("disable",!1),$(".flipbook").turn("next"),$(".flipbook").turn("disable",!0)):this.$message({message:"请保存后,重新尝试.",type:"error"})},xinFanye:function(){var t=this;yepnope({complete:function(){t.deviceType,$(".flipbook").turn({width:922,height:600,elevation:50,gradients:!0,display:"phone"==t.deviceType?"single":"double",autoCenter:!0}),$(".flipbook").turn("disable",!0),$(document).keydown(function(t){switch(t.keyCode){case 37:$(".flipbook").turn("previous");break;case 39:$(".flipbook").turn("next")}})}})}}},T={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container-fluid",class:{phone:"phone"==t.deviceType},staticStyle:{height:"100%"}},[i("div",{staticClass:"flipbook-viewport"},[i("div",{staticClass:"container2"},[i("div",{staticClass:"flipbook",attrs:{id:"flipbook"}},t._l(t.fanyeData,function(e){return i("div",{key:e.id,class:{first:1==e,last:e==t.fanyeData.length}},[i("drag",{attrs:{dataArr:e.arr,suoyinId:e.id},on:{dataChange:t.dataChange,editBook:t.editBook}})],1)}),0)]),t._v(" "),i("div",{staticClass:"flipbookControl"},[i("div",[i("el-button",{on:{click:t.previousFun}},[t._v("上一页")]),i("el-button",{on:{click:t.nextFun}},[t._v("下一页")])],1)])])])},staticRenderFns:[]};var I=i("VU/8")(B,T,!1,function(t){i("9KUX")},null,null).exports;s.default.use(l.a);var F=new l.a({routes:[{path:"/",name:"fanye",component:I}]}),A=i("zL8q"),D=i.n(A),L=(i("tvR6"),i("991W"),i("BO1k")),P=i.n(L),R={test:function(t,e){return function(t){var e=[],i=!0,n=!1,s=void 0;try{for(var o,a=P()(t);!(i=(o=a.next()).done);i=!0){var r=o.value;e.push(r.dId)}}catch(t){n=!0,s=t}finally{try{!i&&a.return&&a.return()}finally{if(n)throw s}}return e}(t.traceData.result)}},E=function(t){t.commit("increment")};s.default.use(w.a);var S=new w.a.Store({state:{deviceType:"os"},mutations:{deviceType:function(t,e){t.deviceType=e.value}},getters:R,actions:n,modules:{},strict:!1});s.default.config.productionTip=!1,s.default.use(D.a),new s.default({el:"#app",router:F,store:S,components:{App:r},template:"<App/>"})},Rmo9:function(t,e){},mv7w:function(t,e){},rNmT:function(t,e){},tvR6:function(t,e){},"w/qj":function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.9c6d86559a4f0ac3c161.js.map